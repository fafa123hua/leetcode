### 代码

```js
var numFriendRequests = function(ages) {
    ages.sort((a,b) => a - b)
    let l = 0, r = 0, ans = 0
    for(let i of ages){
        if (i < 15) {
            continue;
        }
        while (ages[l] <= 0.5 * i + 7) {
            ++l;
        }
        while (r + 1 < ages.length && ages[r + 1] <= i) {
            ++r;
        }
        ans += r - l;
    }
    return ans
};
```


### 解题思路

如果不用哈希会超时，然后dp思路很简单，记录每次符合条件的尾值和对应的长度，对应值修改的时候进行max比较即可

### dp哈希代码

```js
var longestSubsequence = function(arr, difference) {
const map = new Map();
    let ans = 1;
    for(const num of arr){
        if(map.has(num - difference)){
            const v = map.get(num-difference) + 1;
            map.set(num, v);
            ans = Math.max(ans, v);
        }else
            map.set(num, 1);
    }
    return ans;
};
```

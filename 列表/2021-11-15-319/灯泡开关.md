### **解题思路**

理论部分可以看这位大佬的 [指路](https://leetcode-cn.com/problems/bulb-switcher/solution/deng-pao-wen-ti-yi-xing-dai-ma-xiang-xi-o3tk2/)

这里我讲一下我理解过程中卡住的点，代码是如何啪的一下总结成`return Math.floor(Math.sqrt(n))`

按照理论部分，不是应该和每个数是否为完全平方数有关，怎么变成了n开根号，这里先实现一遍完全按规律走的代码。

```js
var bulbSwitch = function(n) {
    let ans = 0
    let i = 1
    while(i * i <= n){ //从1开始当其平方小于n的时候，那就满足规律的条件，ans自增
        i++
        ans++
    }
    return ans 
};
```

到这里其实就差不多了，判断条件等价于`i <= Math.sqrt(n)`

```js
var bulbSwitch = function(n) {
    let i = 1
    while(i <= Math.sqrt(n)){
        i++
    }
    return i - 1        //跳出循环时i会多加一次
};
```

这里就可以直观的看到你求的最终结果不就等价于`Math.sqrt(n)`的值吗

**最终代码**

```js
/**
 * @param {number} n
 * @return {number}
 */
var bulbSwitch = function(n) {
    return Math.floor(Math.sqrt(n))
};
```
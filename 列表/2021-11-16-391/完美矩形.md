**最终代码**

整理出来最终条件

四个顶点只会出现一次，其他点小于等于四且为偶数，最终面积相等

```js
var point = function(x, y){
    return 10001 * x + y;
}

var isRectangleCover = function(rectangles) {
    let x = 10001, y = 10001, a = -10001, b = -10001, s = 0;
    cnts = new Map();
    for(const r of rectangles){
        x = Math.min(x, r[0]); //找四个顶点
        y = Math.min(y, r[1]);
        a = Math.max(a, r[2]);
        b = Math.max(b, r[3]);
        s += (r[3] - r[1]) * (r[2] - r[0]); //统计每个小矩形的面积和
        const p1 = point(r[0], r[1]), p2 = point(r[0],r[3]), p3 = point(r[2], r[1]), p4 = point(r[2],r[3]);
        if(cnts.has(p1))  //记录点出现的次数
            cnts.set(p1, cnts.get(p1) + 1);
        else
            cnts.set(p1, 1);
        if(cnts.has(p2))
            cnts.set(p2, cnts.get(p2) + 1);
        else
            cnts.set(p2, 1);
        if(cnts.has(p3))
            cnts.set(p3, cnts.get(p3) + 1);
        else
            cnts.set(p3, 1);
        if(cnts.has(p4))
            cnts.set(p4, cnts.get(p4) + 1);
        else
            cnts.set(p4, 1);
    }
    if(s != (a - x) * (b - y))
        return false;
    const points = new Set(); //判断四个顶点
    points.add(point(x, y)); 
    points.add(point(x, b));
    points.add(point(a, y));
    points.add(point(a, b));
    for(const p of points){
        if(!cnts.has(p) || cnts.get(p) != 1){
            return false;
        }
    }
    for(const p of cnts.keys()){    //判断其他顶点
        if(!points.has(p)){
            const v = cnts.get(p);
            if(v > 4 || v % 2 != 0)
                return false;
        }
    }
    return true;
};
```
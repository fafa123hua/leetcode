### 代码

```js
var maxDistance = function(colors) {
    let l = 0, r = 0
    if(colors[0] != colors[colors.length - 1]){
        return colors.length - 1
    }
    for(let i = 0; i < colors.length - 1 ; i++){
        if(colors[i] != colors[colors.length - 1]){
            l = Math.max(colors.length - 1 - i, l)
        }
    }
    for(let i = colors.length - 1; i > 0 ; i--){
        if(colors[i] != colors[0]){
            r = Math.max(r, i)
        }
    }
    return Math.max(l,r)
};
```

